import React from 'react'
import { Row, H6, Subheading } from '@fs/zion-ui'
import { useTranslation } from 'react-i18next'
import { NoticeImportant } from '@fs/zion-icon'
import { Link } from '@fs/zion-router'

export default function MismatchingTemplateLangDataProblemHeader({ errors, values }) {
  const headingTranslationKey =
    values.template === 'und'
      ? 'name-template.character-mismatch.heading'
      : 'name-template.problem-with-language-template.heading'
  const subHeadingTranslationKey =
    values.template === 'und'
      ? 'name-template.character-mismatch.description'
      : 'name-template.problem-with-language-template.description'
  const [t] = useTranslation()
  return Object.keys(errors?.nameTemplate ?? {})?.length > 0 ? (
    <Row gutters="nano">
      <NoticeImportant color="red" noShrinkX />
      <H6>
        {t(headingTranslationKey)}
        <Subheading>
          <span>
            <span>{t(subHeadingTranslationKey)}</span>
            {values.template !== 'und' && (
              <Link
                external
                target="_blank"
                to="https://www.familysearch.org/help/helpcenter/article/problem-with-name-language"
              >
                {` ${t('common-ui:learn-more.action')}`}
              </Link>
            )}
          </span>
        </Subheading>
      </H6>
    </Row>
  ) : null
}
