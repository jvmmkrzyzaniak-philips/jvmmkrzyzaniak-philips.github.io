import React from 'react'
import PropTypes from 'prop-types'
import { Paragraph } from '@fs/zion-ui'
import { useAdjustedBodyCopy } from './RecordProvider'

/**
 * Returns a JSX element for body copy depending on where it is being rendered. Must be used in RecordProvider.
 * If specified, it can return div or strong elements if text doesn't need spacing that comes with the zion body elements;
 * Otherwise returns Body2 for infosheets and Body1 elements for everything else
 * @param {String} as - type of tag to render as accepts div or strong (optional)
 * @param {object} ...props additional parameters
 * @returns {JSX.Element}
 */

export default function AdjustedBodyCopy({ children, as, ...props }) {
  const { isInInfoSheet } = useAdjustedBodyCopy()
  if (as === 'div') {
    return <div {...props}>{children}</div>
  }
  if (as === 'strong') {
    return <strong {...props}>{children}</strong>
  }
  return isInInfoSheet ? (
    <Paragraph {...props} size="sm">
      {children}
    </Paragraph>
  ) : (
    <Paragraph {...props}>{children}</Paragraph>
  )
}

AdjustedBodyCopy.propTypes = {
  as: PropTypes.string,
  children: PropTypes.node,
}
