import React, { useEffect, type ComponentProps } from 'react'
import { useOverlayUpdate } from '@fs/zion-ui'
import MemoriesPrivacyFooter from './MemoriesPrivacyFooter'
import MemoriesPrivacyContent from './MemoriesPrivacyContent'

type Props = ComponentProps<typeof MemoriesPrivacyFooter> & {
  altUpdateFooter?: (footer: React.ReactNode) => void
}

export default function MemoriesPrivacyRouteView({
  handleFunction,
  addFindFlowResultsPath,
  altUpdateFooter,
}: Props): JSX.Element {
  const updateDialogFooter = useOverlayUpdate('footer')
  const updateFooter = altUpdateFooter || updateDialogFooter

  useEffect(() => {
    updateFooter(
      <MemoriesPrivacyFooter handleFunction={handleFunction} addFindFlowResultsPath={addFindFlowResultsPath} />
    )
  }, [addFindFlowResultsPath, handleFunction, updateFooter])

  return <MemoriesPrivacyContent />
}
